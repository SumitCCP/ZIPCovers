{% comment %}
  Enquiry Form Section (ZIPCushions Privé)
{% endcomment %}

<section class="zc-enquiry">
  <div class="zc-enquiry__wrap">
    {% if section.settings.heading != blank %}
      <h2 class="zc-enquiry__heading">{{ section.settings.heading }}</h2>
      <span class="zc-enquiry__rule" aria-hidden="true"></span>
    {% endif %}
    {% if section.settings.subheading != blank %}
      <p class="zc-enquiry__sub">{{ section.settings.subheading }}</p>
    {% endif %}

    {% form 'contact', id: 'EnquiryContactForm', class: 'zc-enquiry__form' %}
      {% if form.posted_successfully? %}
        <div class="zc-enquiry__notice zc-enquiry__notice--success" role="status">
          {{ section.settings.success_text }}
        </div>
      {% endif %}

      {% if form.errors %}
        <div class="zc-enquiry__notice zc-enquiry__notice--error" role="alert">
          {{ form.errors | default_errors }}
        </div>
      {% endif %}

      {%- comment -%} Simple honeypot {%- endcomment -%}
      <div style="position:absolute;left:-5000px;" aria-hidden="true">
        <label for="hp_field">Leave this field empty</label>
        <input type="text" id="hp_field" name="contact[trap]">
      </div>

      <div class="zc-enquiry__grid">
        <!-- Name -->
        <div class="zc-field">
          <label class="zc-label" for="ContactName">Your Name<span>*</span></label>
          <input
            class="zc-input"
            type="text"
            id="ContactName"
            name="contact[name]"
            placeholder="Your Name"
            value="{{ form.contact.name | default: customer.name }}"
            required
            autocomplete="name"
          >
        </div>

        <!-- Email -->
        <div class="zc-field">
          <label class="zc-label" for="ContactEmail">Your Email<span>*</span></label>
          <input
            class="zc-input"
            type="email"
            id="ContactEmail"
            name="contact[email]"
            placeholder="Your Email"
            value="{{ form.contact.email | default: customer.email }}"
            required
            autocomplete="email"
          >
        </div>

        <!-- Phone -->
        <div class="zc-field">
          <label class="zc-label" for="ContactPhone">Phone Number<span>*</span></label>
          <input
            class="zc-input"
            type="tel"
            id="ContactPhone"
            name="contact[phone]"
            placeholder="Phone Number"
            autocomplete="tel"
            pattern="[0-9+\-\s()]*"
            required
          >
        </div>

        <!-- Company -->
        <div class="zc-field">
          <label class="zc-label" for="ContactCompany">Company/Firm Name<span>*</span></label>
          <input
            class="zc-input"
            type="text"
            id="ContactCompany"
            name="contact[company]"
            placeholder="Company/Firm Name"
            autocomplete="organization"
            required
          >
        </div>

        <!-- Project Type (Select) -->
        <div class="zc-field">
          <label class="zc-label" for="ContactProjectType">Project Type<span>*</span></label>
          {% assign project_options_string = section.settings.project_options | default: '' %}
          {% assign project_options = project_options_string | split: ',' %}
          <div class="zc-selectwrap">
            <select
              class="zc-input zc-select"
              id="ContactProjectType"
              name="contact[project_type]"
              required
            >
              <option value="" disabled selected>Select project type</option>
              {% for opt in project_options %}
                {% assign trimmed = opt | strip %}
                {% if trimmed != '' %}
                  <option value="{{ trimmed }}">{{ trimmed }}</option>
                {% endif %}
              {% endfor %}
            </select>
            <svg class="zc-caret" viewBox="0 0 20 20" aria-hidden="true">
              <path d="M5 7l5 6 5-6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>

        <!-- Budget Range (Select) -->
        <div class="zc-field">
          <label class="zc-label" for="ContactBudget">Budget Range<span>*</span></label>
          <div class="zc-selectwrap">
            <select
              class="zc-input zc-select"
              id="ContactBudget"
              name="contact[project_budget]"
              required
            >
              <option value="" disabled selected>Select project budget</option>
              <option value="Under $5K">Under $5K</option>
              <option value="$5K-$15K">$5K-$15K</option>
              <option value="$15K-$50K">$15K-$50K</option>
              <option value="$50K+">$50K+</option>
              <option value="Prefer to discuss">Prefer to discuss</option>
            </select>
            <svg class="zc-caret" viewBox="0 0 20 20" aria-hidden="true">
              <path d="M5 7l5 6 5-6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>

        <!-- Timeline -->
        <div class="zc-field">
          <label class="zc-label" for="Projecttimeline">Project timeline<span>*</span></label>
          <input
            class="zc-input"
            type="text"
            id="Projecttimeline"
            name="contact[project_timeline]"
            placeholder="15 Days, 30 Days, 3–4 Weeks…"
            required
          >
        </div>

        <!-- Location -->
        <div class="zc-field">
          <label class="zc-label" for="Projectlocation">Project location<span>*</span></label>
          <input
            class="zc-input"
            type="text"
            id="Projectlocation"
            name="contact[location]"
            placeholder="1899 W 120th Ave Unit #110, Westminster, CO 80224"
            required
          >
        </div>

        <!-- Message -->
        <div class="zc-field zc-field--full">
          <label class="zc-label" for="ContactMessage">Specific Use Case<span>*</span></label>
          <textarea
            class="zc-input zc-textarea"
            id="ContactMessage"
            name="contact[body]"
            placeholder="Describe your fabric needs..."
            rows="6"
            required
          ></textarea>
        </div>
      </div>

      <div class="zc-actions">
        <button type="submit" class="zc-btn">
          {{ section.settings.button_label }}
        </button>
      </div>
    {% endform %}
  </div>

  <style>
    .zc-enquiry{ padding:48px 16px 72px; background:#fff; }
    .zc-enquiry__wrap{ max-width:1000px; margin:0 auto; text-align:center; }
    .zc-enquiry__heading{ font-size:clamp(1.5rem,4vw,2rem); font-weight:700; line-height:1.3; text-align:center; letter-spacing:.5px; margin:0 0 12px; }
    .zc-enquiry__rule{ display:inline-block; width:80px; height:3px; background:#000; margin-bottom:18px; }
    .zc-enquiry__sub{ max-width:820px; margin:0 auto 28px; color:#333; font-size:16px; }
    .zc-enquiry__form{ margin-top:8px; }
    .zc-enquiry__notice{ text-align:left; border-radius:8px; padding:12px 14px; margin:0 0 16px; font-size:14px; }
    .zc-enquiry__notice--success{ background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
    .zc-enquiry__notice--error{ background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }
    .zc-enquiry__grid{ display:grid; grid-template-columns:1fr; gap:18px; text-align:left; margin-top:6px; }
    @media (min-width:768px){ .zc-enquiry__grid{ grid-template-columns:1fr 1fr; } .zc-field--full{ grid-column:1 / -1; } }
    .zc-label{ display:block; margin-bottom:8px; font-size:14px; color:#111; }
    .zc-label span{ color:red; }
    .zc-input{ width:100%; padding:16px 14px; border:1px solid #DADADA; border-radius:4px; background:#fff !important; font-size:15px; outline:none; transition:border-color .2s ease, box-shadow .2s ease; }
    .zc-input:focus{ border-color:#000; box-shadow:0 0 0 3px rgba(0,0,0,.06); }
    .zc-selectwrap{ position:relative; }
    .zc-select{ appearance:none; -webkit-appearance:none; -moz-appearance:none; padding-right:40px; cursor:pointer; }
    .zc-caret{ position:absolute; right:12px; top:50%; width:18px; height:18px; transform:translateY(-50%); pointer-events:none; color:#555; }
    .zc-textarea{ resize:vertical; min-height:160px; }
    .zc-actions{ margin-top:18px; text-align:center; }
    .zc-btn{ display:inline-block; width:min(100%,820px); padding:18px 24px; background:#000; color:#fff; border:none; border-radius:0; font-size:16px; letter-spacing:.3px; text-transform:uppercase; cursor:pointer; transition:opacity .2s ease, transform .02s ease-in-out; }
    .zc-btn:hover{ opacity:.9; } .zc-btn:active{ transform:translateY(1px); }
    .zc-input input[type="email"], .register input[type="password"], input[type="password"], input[type="text"]{
    background:#fff !important;
    }
  </style>
</section>

{% schema %}
{
  "name": "Enquiry Form (Prive)",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Request a consultation" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "Ready to bring your vision to life? Share your requirements and connect with a ZIPCushions Privé design consultant." },
    { "type": "text", "id": "project_options", "label": "Project Type options (comma-separated)", "default": "Residential, Commercial, Hospitality, Other" },
    { "type": "text", "id": "button_label", "label": "Button label", "default": "Submit Now" },
    { "type": "text", "id": "success_text", "label": "Success message", "default": "Thanks! We’ve received your enquiry and will get back to you shortly." }
  ],
  "presets": [{ "name": "Enquiry Form (Prive)" }]
}
{% endschema %}
