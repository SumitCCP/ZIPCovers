<!-- sections/contact-form-with-image.liquid -->
<section class="contact-form-with-image-container" style="background: {{ section.settings.background_color }};">
  <div class="contact-form-image">
    {% if section.settings.image != blank %}
      <img src="{{ section.settings.image | img_url: '600x' }}" alt="Contact Image">
    {% endif %}
  </div>
  <div class="contact-form-content">
    <h2>{{ section.settings.heading }}</h2>
    <form method="post" action="/contact#contact_form" id="contact_form" accept-charset="UTF-8" class="contact-form" onsubmit="return handleSubmit()">
      <input type="hidden" name="form_type" value="contact">
      <input type="hidden" name="utf8" value="✓">
      
      <div class="form-group">
        <input type="text" name="contact[name]" placeholder="Name" required>
      </div>
      <div class="form-group">
        <input type="email" name="contact[email]" placeholder="Email" required>
      </div>
      <div class="form-group">
        <input type="text" name="contact[phone]" placeholder="Phone Number" required>
      </div>
      <div class="form-group">
        <textarea name="contact[body]" placeholder="Message" rows="5" required></textarea>
      </div>

      <!-- T&C Checkbox Section -->
      <div class="form-group checkbox-group">
        <input type="checkbox" id="consent-checkbox" required>
        <label for="consent-checkbox">
          By checking this box, I consent to receive text messages related to orders, promotions, and updates from ZIPCovers. You can reply "STOP" at any time to opt out. Message and data rates may apply. Message frequency may vary. Text HELP to +1 (720) 627-7225 for assistance. For more information, please refer to our <a href="https://zipcovers.com//policies/privacy-policy" target="_blank">Privacy Policy</a> and <a href="https://zipcovers.com//policies/terms-of-service" target="_blank">Terms of Service</a>.
        </label>
      </div>

      <div class="form-group">
        <button type="submit" class="contact-form-submit">Send Message</button>
      </div>
    </form>
  </div>
</section>

{% schema %}
{
  "name": "Contact Form with Image",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Have a Question? Let’s Connect"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Contact Form with Image"
    }
  ]
}
{% endschema %}

<style>
  .contact-form-with-image-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    max-width: 1300px;
    margin: 0 auto;
    padding: 60px 20px;
    font-family: Lato-SemiBold;
  }

  .contact-form-image {
    flex: 0 0 50%;
    max-width: 50%;
    height: auto;
  }

  .contact-form-image img {
    width: 100%;
    max-height: 600px;
    object-fit: cover;
    border-radius: 12px;
  }

  .contact-form-content {
    flex: 0 0 50%;
    max-width: 50%;
    background: #fff;
    padding: 40px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .contact-form-content h2 {
    font-size: 30px;
    margin-bottom: 15px;
    font-weight: bold;
    font-family: Lato-SemiBold;
    
  }

  .contact-form .form-group {
    margin-bottom: 20px;
  }

  .contact-form input,
  .contact-form textarea {
    width: 100%;
    padding: 14px 18px;
    border: 1px solid #ccc !important;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s ease;
    background: none !important;
  }

  .contact-form input:focus,
  .contact-form textarea:focus {
    border-color: #000;
    outline: none;
  }

  .contact-form-submit {
    background-color: #000;
    color: #fff;
    padding: 16px 30px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    width: 100%;
    transition: background-color 0.3s ease;
  }

  .contact-form-submit:hover {
    background-color: #333;
  }

  /* Checkbox Styling */
  .checkbox-group {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    font-size: 14px;
    color: #555;
  }

  .checkbox-group input[type="checkbox"] {
    margin-top: 4px;
    width: 16px;
    height: 16px;
    flex-shrink: 0;
  }

  .checkbox-group label {
    line-height: 1.5;
  }

  .checkbox-group a {
    color: #007BFF;
    text-decoration: none;
  }

  .checkbox-group a:hover {
    text-decoration: underline;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .contact-form-with-image-container {
      flex-direction: column;
      padding: 40px 15px;
    }

    .contact-form-image {
      display: none;
    }

    .contact-form-content {
      max-width: 100%;
      flex: 0 0 100%;
      padding: 30px 10px;
    }

    .contact-form-content h2 {
      font-size: 20px;
    }
  }
</style>

<script>
  function handleSubmit() {
    const button = document.querySelector(".contact-form-submit");
    button.innerText = "Message Sent ✓,We will contact you shortly.";
    button.disabled = true;
    button.style.backgroundColor = "#4CAF50"; // Optional: green color for confirmation
    return true; // allow form to submit
  }
</script>
