{% schema %}
{
"name": "Product FAQs",
"tag": "section",
"class": "section-product-faqs",
"settings": [],
"presets": [
{
"name": "Product FAQs"
}
]
}
{% endschema %}

{% if product.metafields.custom.faqs != blank %}
<div class="product-faq-wrapper">
<h2 class="faq-heading">Frequently Asked Questions</h2>
<div class="faq-accordion">
{% for faq in product.metafields.custom.faqs.value %}
<div class="faq-item">
<button class="faq-question">
<span class="text">{{ faq.question }}</span>
<span class="icon">+</span>
</button>
<div class="faq-answer">
<div class="faq-richtext">{{ faq.answers | metafield_tag }}</div>
</div>
</div>
{% endfor %}
</div>
</div>

<style>
.product-faq-wrapper {
max-width:1200px;
margin: auto;
padding: 20px 10px;
padding-bottom:40px;
}

.faq-heading {
margin-bottom: 20px;
text-align:center;
font-weight: bold;
font-family: Lato-SemiBold;
font-size: 32px;
letter-spacing: 1px;
}
@media (max-width: 767px){
.faq-heading {
font-size: 24px;
}
}
.faq-accordion {
display: flex;
flex-direction: column;
gap: 10px;
}

.faq-item {
border-bottom: 1px solid #e1e1e1;
}

.faq-question {
background: none;
border: none;
padding: 15px 0;
width: 100%;
text-align: left;
display: flex;
align-items: center;
justify-content: space-between;
font-weight: 550;
font-size: 16px;
cursor: pointer;
}

.faq-question .icon {
font-size: 20px;
right: 12px;
display: inline-block;
width: 20px;
text-align: center;
transition: transform 0.2s;
}

.faq-answer {
height: 0;
overflow:hidden;

font-size: 14px;

color: #333;
}

.faq-item.active .faq-answer {
height: auto;
padding: 5px 0;
line-height: 1.6;
}

.faq-item.active .faq-question .icon {
content: "−";
transform: rotate(180deg);
}
.faq-answer a{
color:orangered !important;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
const faqItems = document.querySelectorAll(".faq-item");

faqItems.forEach(item => {
const button = item.querySelector(".faq-question");
const icon = button.querySelector(".icon");

button.addEventListener("click", () => {
const isActive = item.classList.contains("active");

// Close all
faqItems.forEach(i => {
i.classList.remove("active");
i.querySelector(".icon").textContent = "+";
});

// Toggle current
if (!isActive) {
item.classList.add("active");
icon.textContent = "−";
}
});
});
});
</script>
{% endif %}
