{% liquid 
    assign pt = section.settings.pt | prepend: 'pt-'
    assign pb = section.settings.pb | prepend: 'pb-'
    assign mt = section.settings.mt | prepend: 'mt-'
    assign mb = section.settings.mb | prepend: 'mb-'

    assign bg_color = section.settings.bg_color

    if section.settings.bg_gradient
        assign bg_color = bg_color | append: ' bg-gradient'
    endif
%}

{% liquid 
    assign header_block = section.blocks | where: 'type', 'header' | first

    unless header_block.settings.cell_1 == blank
        assign header_cells = header_block.settings.cell_1 | append: ', '
    endunless

    unless header_block.settings.cell_2 == blank
        assign header_cells = header_cells | append: header_block.settings.cell_2 | append: ', '
    endunless

    unless header_block.settings.cell_3 == blank
        assign header_cells = header_cells | append: header_block.settings.cell_3 | append: ', '
    endunless

    unless header_block.settings.cell_4 == blank
        assign header_cells = header_cells | append: header_block.settings.cell_4 | append: ', '
    endunless

    unless header_block.settings.cell_5 == blank
        assign header_cells = header_cells | append: header_block.settings.cell_5 | append: ', '
    endunless

    unless header_block.settings.cell_6 == blank
        assign header_cells = header_cells | append: header_block.settings.cell_6 | append: ', '
    endunless

    unless header_block.settings.cell_7 == blank
        assign header_cells = header_cells | append: header_block.settings.cell_7 | append: ', '
    endunless

    assign header_cells = header_cells | split: ', '
%}

{% capture icon_checked %}
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.833984 10.0002C0.833984 4.93755 4.93804 0.833496 10.0007 0.833496C12.4318 0.833496 14.7634 1.79927 16.4825 3.51835C18.2015 5.23744 19.1673 7.56902 19.1673 10.0002C19.1673 15.0627 15.0632 19.1668 10.0007 19.1668C4.93804 19.1668 0.833984 15.0627 0.833984 10.0002ZM8.81815 13.401L14.3182 7.901C14.6776 7.54155 14.6776 6.95877 14.3182 6.59933C13.9587 6.23989 13.3759 6.23989 13.0165 6.59933L8.16732 11.4577L6.98482 10.266C6.7523 10.0334 6.4134 9.94269 6.09576 10.0278C5.77814 10.1129 5.53004 10.361 5.44493 10.6786C5.35982 10.9962 5.45063 11.3351 5.68315 11.5677L7.51648 13.401C7.68861 13.5745 7.9229 13.6721 8.16732 13.6721C8.4117 13.6721 8.646 13.5745 8.81815 13.401Z" fill="#294D4A"/>
</svg>


{% endcapture %}

{% capture icon_checked_circle %}
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.833984 10.0002C0.833984 4.93755 4.93804 0.833496 10.0007 0.833496C12.4318 0.833496 14.7634 1.79927 16.4825 3.51835C18.2015 5.23744 19.1673 7.56902 19.1673 10.0002C19.1673 15.0627 15.0632 19.1668 10.0007 19.1668C4.93804 19.1668 0.833984 15.0627 0.833984 10.0002ZM8.81815 13.401L14.3182 7.901C14.6776 7.54155 14.6776 6.95877 14.3182 6.59933C13.9587 6.23989 13.3759 6.23989 13.0165 6.59933L8.16732 11.4577L6.98482 10.266C6.7523 10.0334 6.4134 9.94269 6.09576 10.0278C5.77814 10.1129 5.53004 10.361 5.44493 10.6786C5.35982 10.9962 5.45063 11.3351 5.68315 11.5677L7.51648 13.401C7.68861 13.5745 7.9229 13.6721 8.16732 13.6721C8.4117 13.6721 8.646 13.5745 8.81815 13.401Z" fill="#294D4A"/>
</svg>

{% endcapture %}

{% capture icon_unchecked %}
   <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_374_449)">
<path d="M9 0C4.0372 0 0 4.0372 0 9C0 13.9628 4.0372 18 9 18C13.9628 18 18 13.9628 18 9C18 4.0372 13.9628 0 9 0ZM12.3143 11.2537C12.6075 11.547 12.6075 12.021 12.3143 12.3143C12.168 12.4606 11.9761 12.534 11.7839 12.534C11.5919 12.534 11.4 12.4606 11.2537 12.3143L9 10.0605L6.74629 12.3143C6.60004 12.4606 6.40805 12.534 6.21606 12.534C6.02394 12.534 5.83195 12.4606 5.6857 12.3143C5.3925 12.021 5.3925 11.547 5.6857 11.2537L7.93954 9L5.6857 6.74629C5.3925 6.45296 5.3925 5.97903 5.6857 5.6857C5.97903 5.3925 6.45296 5.3925 6.74629 5.6857L9 7.93954L11.2537 5.6857C11.547 5.3925 12.021 5.3925 12.3143 5.6857C12.6075 5.97903 12.6075 6.45296 12.3143 6.74629L10.0605 9L12.3143 11.2537Z" fill="black" fill-opacity="0.3"/>
</g>
<defs>
<clipPath id="clip0_374_449">
<rect width="18" height="18" fill="white"/>
</clipPath>
</defs>
</svg>

{% endcapture %}

<div 
    id="comparison-table-{{ section.id }}" 
    class="comparison-table  {{ section.settings.text_align }} ">
    <div class="{{ section.settings.container }}">
	    <div class="heading-left">
        {% unless section.settings.title == blank %}
            <h2 class="title mb-4 {{ section.settings.title_size }}">
                {{ section.settings.title }}
            </h2>
        {% endunless %}
        {% unless section.settings.description == blank %}
            <div class="description rte mt-n3 mb-7 text-muted {{ section.settings.description_size }}">
                {{ section.settings.description }}
            </div>
        {% endunless %}
		 <div class="table-btn">
             <a href="{{ section.settings.link }}">{{ section.settings.label }}</a>
           </div>
		</div>
            <div class="table-responsive">
                <table 
                    class="
                        table align-middle mb-2
                        {{ section.settings.table_bg_color }}
                        {{ section.settings.table_border_color }}
                        {% if section.settings.table_bordered %}
                            table-bordered
                        {% else %}
                            rounded
                        {% endif %}
                        {% if section.settings.table_striped %}
                            table-striped
                        {% endif %}
                    ">
                    <thead class="{{ section.settings.table_thead_color }}">
                        <tr>
                            {% for cell in header_cells %}
                                <th 
                                    scope="col" 
                                    class="py-5 text-nowrap {% if forloop.index == 2 %}{{ section.settings.table_second_col_color }}{% endif %}">
                                    {% unless cell == '#' %}
                                        {{ cell }}
                                    {% endunless %}
                                   
                                </th>
                            {% endfor %}
                        </tr>
                      <tr>
                      </tr>
                    </thead>
                    <tbody>
                        {% for block in section.blocks %}
                            {% unless block.type == 'header' %}
                                <tr>
                                    <th scope="row" class="text-start">
                                        {{ block.settings.title }}
                                    </th>
                                    {% for cell in header_cells %}
                                        {% unless forloop.first %}
                                            <td class="{% if forloop.index == 2 %}{{ section.settings.table_second_col_color }}{% endif %}">
                                                {% comment %}theme-check-disable{% endcomment %}
                                                {% if forloop.index == 2 %}
                                                    {% if block.settings.cell_2 %}
                                                        {{ icon_checked_circle }}
                                                    {% else %}
                                                        {{ icon_unchecked }}
                                                    {% endif %}
                                                {% elsif forloop.index == 3 %}
                                                    {% if block.settings.cell_3 %}
                                                        {{ icon_checked }}
                                                    {% else %}
                                                        {{ icon_unchecked }}
                                                    {% endif %}
                                                {% elsif forloop.index == 4 %}
                                                    {% if block.settings.cell_4 %}
                                                        {{ icon_checked }}
                                                    {% else %}
                                                        {{ icon_unchecked }}
                                                    {% endif %}
                                                {% elsif forloop.index == 5 %}
                                                    {% if block.settings.cell_5 %}
                                                        {{ icon_checked }}
                                                    {% else %}
                                                        {{ icon_unchecked }}
                                                    {% endif %}
                                                {% elsif forloop.index == 6 %}
                                                    {% if block.settings.cell_6 %}
                                                        {{ icon_checked }}
                                                    {% else %}
                                                        {{ icon_unchecked }}
                                                    {% endif %}
                                                {% elsif forloop.index == 7 %}
                                                    {% if block.settings.cell_7 %}
                                                        {{ icon_checked }}
                                                    {% else %}
                                                        {{ icon_unchecked }}
                                                    {% endif %}
                                                {% endif %}
                                                {% comment %}theme-check-enable{% endcomment %}
                                            </td>
                                        {% endunless %}
                                    {% endfor %}
                                </tr>
                            {% endunless %}
                        {% endfor %}
                    </tbody>
                </table>
               {%- for block in section.blocks -%}
                 <div class="table-logo">
                {%- if block.settings.img_01 != blank -%}
                    <img src="{{ block.settings.img_01 | img_url: 'master'  }}">
                {%- endif -%}
                    </div>
              {% endfor %}
                
            </div>
          
        </div>
    </div>


<style>
.comparison-table{
   width: 100%;
   background:{{section.settings.color_accent}};
   padding-top: {{section.settings.p_t}}px;
   padding-bottom: {{section.settings.p_b}}px;
}
.comparison-table .container {
    max-width: 1260px;
    display: flex;
    flex-wrap: nowrap!important;
    align-items: center;
}
.table-btn {
    margin-top: 30px;
}
.heading-left {
    width: 450px;
    text-align: left;
}
.comparison-table h2.title {
    font-size: 30;
    color: #000000;
    font-weight: 600;
    margin-bottom: 10px;
    font-family: Lato-SemiBold;
}
.description.rte p {
    font-size: 16px;
    text-align: left;
    color: #000;
}
.table-responsive {
    max-width: 100%;
    margin: 0 auto;
    padding: 0 0 0 4rem;
}
.comparison-table  table tr>th, .comparison-table  table tr>td {
    border-bottom: 1px solid #0000001A;
    padding: 10px;
    line-height: 1.3;
    vertical-align: middle;
    font-size: 20px;
    font-family: Lato-SemiBold;
    height: auto;
    border-right: 0;
    text-align: center;
}
.comparison-table  table {
    border-collapse: collapse;
    border-spacing: 0;
    border: none;
    margin: 1em 0;
    position: relative;
}
.table-logo img {
    width: 100px;
}
.table-logo {
    position: absolute;
    top: -22px;
    right: 230px;
}
.comparison-table table:before {
    position: absolute;
    top: -54px;
    right: 165px;
    background: #fff;
    width: 215px;
    height: 500px;
    box-shadow: 3px 3px 15px #00000014;
    content: '';
    border-radius: 12px;
}
thead th {
    color: #00000066;
    font-size: 16px!important;
}
.comparison-table  th.text-start {
    text-align: left;
    width: 360px;
    padding: 20px 0px;
    font-size: 16px;
}
.comparison-table  thead th:first-child {
    text-align: left;
    padding: 20px 40px;
}
.comparison-table  tbody td:nth-child(2) {
    background: #ffffff;
    width: 200px;
    position: relative;
}
.comparison-table tbody td:nth-child(3) {
    width: 170px;
}
.comparison-table  thead th:nth-child(2) {
    background: #ffffff;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    color: #fff;
}
.comparison-table  thead th:nth-child(2) {
    background: #0000;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    color: #fff;
}
.table-btn a {
    background: #294D4A;
    color: #fff;
    font-size: 16px;
    font-family: Lato-SemiBold;
    padding: 16px 32px;
    line-height: 24px;
    border-radius: 6px;
}
th.text-start em {
    font-size: 12px;
    FONT-WEIGHT: 500;
}  
@media (max-width: 1160px) {
.comparison-table table:before {
    top: -54px;
    right: 138px;
    width: 172px;
}
.table-logo {
    position: absolute;
    top: -22px;
    right: 170px;
}
}  
@media (max-width: 991px) {
.comparison-table table:before {
    top: -54px;
    right: 101px;
    width: 126px;
}
.table-logo {
    position: absolute;
    top: -22px;
    right: 113px;
}
}  
@media screen and (max-width: 767px) { 
.comparison-table .container {
    padding: 0 2rem;
}
.heading-left {
    padding-left: 0;
}  
.comparison-table h2.title {
    font-size: 28px;
}
.comparison-table .container {
    flex-wrap: wrap!important;
}
.heading-left {
    width: 100%;
    text-align: center;
} 
.description.rte p {
    font-size: 16px;
    text-align: center;
    color: #000;
}  
.table-responsive {
    max-width: 100%;
    margin: 60px auto 0;
    padding: 0 0rem;
    overflow-x: auto;
    min-height: 610px;
}
.comparison-table table:before {
    position: absolute;
    top: -18px;
    right: 82px;
    background: #fff;
    width: 98px;
    height: 598px;
    box-shadow: 3px 3px 15px #00000014;
    content: '';
    border-radius: 12px;
}
.comparison-table  thead th:first-child {
    text-align: left;
    padding: 15px 0px;
}
.comparison-table  th.text-start {
    padding: 10px 5px 10px 0;
}
.comparison-table  table tr>th, .comparison-table  table tr>td {
    padding: 8px;
    font-size: 12px;
    height: 60px
}
.table-responsive svg {
    width: 40px;
}
.comparison-table  th.text-start {
    text-align: left;
    width: 310px;
    padding: 20px 0px;
    font-size: 15px;
}
.table-logo img {
    width: 75px;
}
.table-logo {
    position: absolute;
    top: unset;
    right: 125px;
    bottom: 550px;
}
.comparison-table  thead th:nth-child(2) {
    background: transparent;
}  
.comparison-table {
    padding-top: 10px!important;
    padding-bottom: 25px!important;
}
.modal-content .fab-inner {
    height: 90%;
}  
}
@media screen and (max-width: 576px) {
.comparison-table table:before {
    top: -12px;
    right: 88px;
    width: 120px;
    height: 573px;
}
.table-logo {
    right: 144px;
}
}  
@media screen and (max-width: 420px) {
.comparison-table  th.text-start {
    width: 250px;
    padding-right: 15px;
}
.comparison-table  tbody td:nth-child(2) {
    width: 130px;
}
.comparison-table tbody td:nth-child(3) {
    width: 100px;
}
.comparison-table table:before {
    position: absolute;
    top: -12px;
    right: 75px;
    background: #fff;
    width: 104px;
    height: 568px;
    box-shadow: 3px 3px 15px #00000014;
    content: '';
    border-radius: 12px;
}
.table-responsive svg {
    width: 40px;
}
.table-logo {
    right: 124px;
}   
}
@media screen and (max-width: 390px) {
.comparison-table table:before {
    position: absolute;
    top: -12px;
    right: 67px;
    background: #fff;
    width: 100px;
    height: 590px;
    box-shadow: 3px 3px 15px #00000014;
    content: '';
    border-radius: 12px;;
}
.table-logo {
    right: 110px;
    bottom: 568px;
}
} 

</style>
  
{% schema %}
{
    "name": "Comparison Table",
    "settings": [
        {
            "type": "header",
            "content": "General"
        },
        {
            "type": "select",
            "id": "bg_color",
            "label": "Background color",
            "default": "",
            "options": [
                { "group": "Inherit", "value": "", "label": "Body" },
                { "group": "Light", "value": "bg-white text-body", "label": "White" },
                { "group": "Light", "value": "bg-light text-body", "label": "Light" },
                { "group": "Dark", "value": "bg-primary text-white", "label": "Primary" },
                { "group": "Dark", "value": "bg-secondary text-white", "label": "Secondary" },
                { "group": "Dark", "value": "bg-dark text-white", "label": "Dark" },
                { "group": "Alert", "value": "bg-success text-white", "label": "Success" },
                { "group": "Alert", "value": "bg-warning text-white", "label": "Warning" },
                { "group": "Alert", "value": "bg-danger text-white", "label": "Danger" },
                { "group": "Alert", "value": "bg-info text-white", "label": "Info" }
            ]
        },
        {
            "type": "checkbox",
            "id": "bg_gradient",
            "label": "Background gradient",
            "default": false,
            "info": "Will not apply to light colors"
        },
        {
            "type": "select",
            "id": "container",
            "label": "Container",
            "default": "container",
            "options": [
                { "value": "container", "label": "Container" },
                { "value": "container-fluid", "label": "Fluid" }
            ]
        },
        {
            "type": "select",
            "id": "text_align",
            "label": "Text align",
            "default": "text-center",
            "options": [
                { "value": "text-start", "label": "Left" },
                { "value": "text-center", "label": "Center" }
            ]
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Comparison Table"
        },
        {
            "type": "select",
            "id": "title_size",
            "label": "Title size",
            "default": "h2",
            "options": [
                { "value": "h1", "label": "H1" },
                { "value": "h2", "label": "H2" },
                { "value": "h3", "label": "H3" },
                { "value": "h4", "label": "H4" },
                { "value": "h5", "label": "H5" },
                { "value": "h6", "label": "H6" }
            ]
        },
        {
            "type": "richtext",
            "id": "description",
            "label": "Description",
            "default": "<p>Write something catchy for this section</p>"
        },
        {
            "type": "select",
            "id": "description_size",
            "label": "Description size",
            "default": "fs-6",
            "options": [
                { "value": "fs-1", "label": "fs-1" },
                { "value": "fs-2", "label": "fs-2" },
                { "value": "fs-3", "label": "fs-3" },
                { "value": "fs-4", "label": "fs-4" },
                { "value": "fs-5", "label": "fs-5" },
                { "value": "fs-6", "label": "fs-6" }
            ]
        },
       {
            "type": "header",
            "content": "Button"
          },
		  {
              "type": "text",
              "id": "label",
              "label": "Button Label"
          },
		  {
              "type": "url",
              "id": "link",
              "label": "Button Link"
          },
        {
            "type": "header",
            "content": "Table"
        },
        {
  		     "type": "color",
  		     "id": "color_accent",
  		     "label": "Background color",
  		     "default": "#fff"
		},
        {
            "type": "header",
            "content": "Spacing"
        },
        {
             "type": "range",
             "id": "p_t",
             "default": 50,
             "label": "Padding Top",
             "max": 300,
             "min": 0,
             "step": 5,
             "unit": "Px"
         }, 
	     {
             "type": "range",
             "id": "p_b",
             "default": 50,
             "label": "Padding Bottom",
             "max": 300,
             "min": 0,
             "step": 5,
             "unit": "Px"
           }
    ],
    "blocks": [
        {
            "type": "header",
            "name": "Header",
            "limit": 1,
            "settings": [
               {
                   "type": "image_picker",
                  "id": "img_01",
                  "label": "Image"
               },
                {
                    "type": "text",
                    "id": "cell_1",
                    "label": "Cell 1",
                    "default": "#"
                },
              
                {
                    "type": "text",
                    "id": "cell_2",
                    "label": "Cell 2",
                    "default": "Our Product"
                },
                {
                    "type": "text",
                    "id": "cell_3",
                    "label": "Cell 3",
                    "default": "Competitor 1"
                },
                {
                    "type": "text",
                    "id": "cell_4",
                    "label": "Cell 4",
                    "default": "Competitor 2",
                    "info": "Leave empty to disable"
                },
                {
                    "type": "text",
                    "id": "cell_5",
                    "label": "Cell 5",
                    "default": "Competitor 3",
                    "info": "Leave empty to disable"
                },
                {
                    "type": "text",
                    "id": "cell_6",
                    "label": "Cell 6",
                    "default": "Competitor 4",
                    "info": "Leave empty to disable"
                },
                {
                    "type": "text",
                    "id": "cell_7",
                    "label": "Cell 7",
                    "default": "Competitor 5",
                    "info": "Leave empty to disable"
                }
            ]
        },
        {
            "type": "item",
            "name": "Row",
            "settings": [
                {
                    "type": "inline_richtext",
                    "id": "title",
                    "label": "Title",
                    "default": "Feature name"
                },
                {
                    "type": "header",
                    "content": "Checkboxes"
                },
                {
                    "type": "checkbox",
                    "id": "cell_2",
                    "label": "Cell 2",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "cell_3",
                    "label": "Cell 3",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "cell_4",
                    "label": "Cell 4",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "cell_5",
                    "label": "Cell 5",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "cell_6",
                    "label": "Cell 6",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "cell_7",
                    "label": "Cell 7",
                    "default": false
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Comparison Table",
            "category": "General"
        }
    ]
}
{% endschema %}