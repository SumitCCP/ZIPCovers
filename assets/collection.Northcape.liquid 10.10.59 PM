<!-- Collection Banner -->
<div class="collection-banner">
  {% if collection.image %}
  <img src="{{ collection.image | img_url: '1920x600' }}" alt="{{ collection.title }}">
  {% endif %}
</div>
<div class="collection-banner-mobile">
  <img src="https://cdn.shopify.com/s/files/1/0614/7453/7714/files/North_Cape-app-29-aug-25_1.png?v=1756894069" alt="{{ collection.title }}">
</div>

<div id="collections-container">
  <div class="collection-wrapper" data-collection="{{ collection.handle }}">
    <h1>{{ collection.title }}</h1>

    <!-- Pagination: Show 40 products per page -->
    {% paginate collection.products by 40 %}
    <div class="collection-grid">
      {% for product in collection.products %}
      <div class="product-item" data-title="{{ product.title | downcase }}">
        <a href="{{ product.url }}">
          <img src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}">
    
          {% if forloop.first %}
            <div class="bestseller-badge">Best Seller</div>
          {% endif %}
        
      {% if product.published_at %}
  {% assign publish_date = product.published_at | date: '%s' | times: 1 %}
  {% assign current_date = 'now' | date: '%s' | times: 1 %}
  {% assign seconds_since_publish = current_date | minus: publish_date %}
  {% assign seven_days_in_seconds = 7 | times: 86400 %}
  
  {% if seconds_since_publish <= seven_days_in_seconds %}
    <!-- <div class="bestseller-badge">New Launch</div> -->
  {% endif %}
{% endif %}
    
          <p class="product-title">{{ product.title }}</p>
          <p class="product-price">{{ product.price | money }}</p>
        </a>
        <a href="{{ product.url }}" class="view-product-btn">Customize Now</a>
      </div>
    {% endfor %}
    
    </div>

    <!-- Pagination Links -->
    <div class="pagination">
      {% if paginate.previous %}
      <a href="{{ paginate.previous.url }}" class="page-link prev">Previous</a>
      {% endif %}

      {% for part in paginate.parts %}
      {% if part.is_link %}
      <a href="{{ part.url }}" class="page-link">{{ part.title }}</a>
      {% else %}
      <span class="current-page">{{ part.title }}</span>
      {% endif %}
      {% endfor %}

      {% if paginate.next %}
      <a href="{{ paginate.next.url }}" class="page-link next">Next</a>
      {% endif %}
    </div>
    {% endpaginate %}
  </div>
</div>

<div class="skcontainer">
  <div class="calltoaction">
    <p>We do provide a lot of other custom shapes as well! Drop us a Chat and we'll assist you with almost any other
      shape! (Blue Icon - bottom right corner)</p>
  </div>
</div>
<!-- Collection Description -->
{% if collection.description != blank %}
<div class="collection-description">
  {{ collection.description }}
</div>
{% endif %}
{% section 'Order-Steps' %}
{% section 'collection-faq-dynamic' %}

{% style %}
.bestseller-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  background: #E63946;
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-weight: bold;
  font-size: 14px;
  z-index: 3;
}
.product-item {
  position: relative; /* Add this to ensure badge is positioned correctly */
}

/* Pagination Styles */
.pagination {
display: flex;
justify-content: center;
align-items: center;
margin-top: 40px;
}
.page-link, .current-page {
padding: 10px 15px;
margin: 0 5px;
text-decoration: none;
border: 2px solid #2A4D4A;
border-radius: 5px;
color: #2A4D4A;
font-weight: bold;
background: white;
transition: all 0.3s;
}
.page-link:hover {
background: #2A4D4A;
color: white;
}
.current-page {
background: #2A4D4A;
color: white;
}
.prev, .next {
font-weight: bold;
}

.skcontainer {
width: 100%;
margin: 30px 0px;
}
.calltoaction {
max-width: 1000px;
margin: auto;
background: #F1F1F1;
padding: 50px;
border-radius: 10px;
text-align: center;
}
.calltoaction p{
font-size: x-large!important;
}
@media only screen and (max-width: 600px) {
.calltoaction {
max-width: 350px;
padding: 20px;
}
.calltoaction p{
font-size: large!important;
}
}

h1 {
text-align: left;
font-weight: bold;
margin-top: 150px;
font-size: xx-large;
max-width: 1200px;
margin:auto;
}

/* Collection Banner */
.collection-banner {
width: 100%;
margin-bottom: 50px;
position:relative;
}

.collection-banner img {
width: 100%;
height: auto;
object-fit: cover;
}
.collection-banner-mobile {
display:none;
width: 100%;
margin-bottom: 50px;
position:relative;
}

.collection-banner-mobile img {
width: 100%;
height: auto;
object-fit: cover;
}

h2 {
max-width: 1200px;
margin: auto;
font-weight: bold;
font-size: x-large;
}

@media only screen and (max-width: 600px) {
h2 {
font-size: large;
width: 98%;
}
h1{
  font-size: x-large;width: 98%;
}
}

.collection-grid {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 20px;
justify-content: center;
margin: auto;
max-width: 1200px;
border-top: 2px #ccc solid;
padding-top: 30px;
}
@media (max-width: 768px) {
.collection-grid {
grid-template-columns: repeat(2, 1fr);
width: 95%;
}
}

/* Collection Description */
.collection-description {
max-width: 1200px;
margin: 50px auto;
padding: 20px;
}
.collection-description p{
  text-align:justify;
}
.collection-description h3{
font-size: large;
}

[data-layouthub="section"], [data-layouthub="section"] *{
margin-left:0!important;
color: #000!important;
}
@media (max-width: 600px) {
.collection-description {
max-width: 98%;
font-size: 16px;
padding: 5px;
}
}

.product-item {
border: 1px solid #ddd;
padding: 15px;
border-radius: 8px;
background: #fff;
text-align: center;
display: flex;
flex-direction: column;
justify-content: space-between;
}
.product-item:hover {
border: 1px solid #2A4D4A;
}
.product-item img {
width: 100%;
height: 220px;
border-radius: 5px;
}
.product-title {
font-size: 16px;
margin-top: 10px;
color: #000;
}
.product-price {
font-size: 18px;
color: #000;
font-weight: bold;
}
.view-product-btn {
display: inline-block;
background: #2A4D4A;
border: 2px #2A4D4A solid;
color: white;
padding: 10px 15px;
font-size: 14px;
font-weight: bold;
border-radius: 5px;
text-decoration: none;
margin-top: 10px;
transition: background 0.3s;
}
.view-product-btn:hover {
background-color: #fff;
color: #2A4D4A;
}
@media (max-width: 600px){
.view-product-btn{
font-size: 12px;
}
.product-title {
font-size: 12px;

}
.collection-banner {
  display:none;
}
.collection-banner-mobile {
  display:block;
  width: 100%;
  margin-bottom: 50px;
  position:relative;
}
.product-item img {

height: 160px;
}

}

.calltoaction p {
font-weight: bold;
padding-bottom: 20px;
color: black;
}
{% endstyle %}