{% comment %}
  Snippet can be used in section or block
  eg. {% include 'include-contact-form' %}
{% endcomment %}

{% comment %}Assign object as block or section{% endcomment %}

{% if type == 'block' %}
  {% assign object = block %}
{% else %}
  {% assign object = section %}
{% endif %}

{% assign id = object.id %}

{% assign title = object.settings.title %}
{% assign content_text = object.settings.content_text %}
{% assign social_enable = object.settings.social_enable %}
{% assign content_image = object.settings.content_image %}
{% assign form_position = object.settings.form_position %}
{% assign text_alignment = object.settings.text_alignment %}

{% if title != blank or content_text != blank or content_image != nil or social_enable %}
  {% assign contact_content = true %}
{% else %}
  {% assign contact_content = false %}
{% endif %}
{% comment %}Text{% endcomment %}
{% assign text_color = object.settings.text_color %}
{% comment %}Background{% endcomment %}
{% assign background = object.settings.background %}
{% comment %}Layout{% endcomment %}
{% assign width = object.settings.width %}
{% assign padding_top = object.settings.padding_top %}
{% assign padding_bottom = object.settings.padding_bottom %}
{% assign padding_left = object.settings.padding_left %}
{% assign padding_right = object.settings.padding_right %}
{% assign animation = object.settings.animation | default: 'none' %}
{% comment %} Advanced {% endcomment %}
{% assign css_class = object.settings.css_class %}
{% assign custom_css = object.settings.custom_css %}

{% comment %} Is the color set to transparent? {% endcomment %}
{% assign background_alpha = background | color_extract: 'alpha' %}
{% assign text_alpha = text_color | color_extract: 'alpha' %}

{% if settings.form_button_style contains 'primary' %}
  {% assign field_input_size = settings.button_primary_padding %}
  {% assign field_input_style = 'primary-btn-style' %}
{% elsif settings.form_button_style contains 'secondary' %}
  {% assign field_input_size = settings.button_secondary_padding %}
  {% assign field_input_style = 'secondary-btn-style' %}
{% else %}
  {% assign field_input_size = settings.button_link_padding %}
{% endif %}

{% comment %} Section specific CSS {% endcomment %}
{% capture section_css -%}

  .contact-form__form {
    color: {% if text_alpha != 0 %}{{ text_color }}{% else %}{{ settings.regular_color }}{% endif %};
  }

  .contact-form__form {
    background-color: {% if background_alpha != 0 %}{{ background }}{% endif %};
  }
{%- endcapture -%}

{% style %}
  #shopify-section-{{ id }} {
    padding-top: {{ padding_top }}px;
    padding-bottom: {{ padding_bottom }}px;
    padding-left: {{ padding_left }}px;
    padding-right: {{ padding_right }}px;
    {% if width == 'wide' %}
      width: 100%;
    {% endif %}
  }

  {%
    render 'css-loop',
    css: section_css,
    id: id
  %}

  {%
    render 'css-loop',
    css: custom_css,
    id: id
  %}
 #checkbox\[option1\]--4 + label {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
   
}
#shopify-section-1658528080468ec44b .contact-form__form{
  max-width:700;
  text-align:justify;
    font-style:open-sans;
}  
  #checkbox\[option1\]--4 + label a{
   color:#2f2e2e;
   }
.myphonenumber{
    margin-top:20px;
  }
.custom-contact-form__block--paragraph{
    display: flex !important;
    text-align:justify;
}
.custom-contact-form__block--paragraph p{
  font-size:15px;
}
.contact-form__form input{
  border:none;
  outline:none;
  padding:25px 0px;
  background: #f7f8fb !important;
  border: 1px solid #eee !important;

}  
.contact-form__form textarea{
  border:none;
  outline:none;
  background: #f7f8fb !important;
  border: 1px solid #eee !important;
} 

  
{% endstyle %}

<section class="section
              {{ css_class }}
              is-width-{{ width }}
              "
          {% if animation != 'none' %}
            data-scroll-class="{{ animation }}"
          {% endif %}>

  {% if context == 'contact-template' %}
    <div class="container hide-when-banner-enabled">
      {%
        render 'heading',
        title: page.title,
        heading_tag: 'h1',
        context: 'contact-page',
        text_alignment: 'center'
      %}
    </div>
  {% endif %}

  <div class="container
              content
              contact-form
              {% if contact_content == true %}
              contact-form--{{ form_position }}
              {% else %}
              contact-form--center
              {% endif %}
              ">


    {% if section.blocks.size > 0 and type != "block" %}
      <div class="ct-form">
        
        <div class="contact-form__form">
          <div class="form__success-message"></div>
          <div class="one-whole column contact-form__form-errors">
            <p class="form__error"></p>
          </div>

          {% form 'contact', class: 'custom-contact-form' %}
            {% if form.posted_successfully? %}
              <div class="custom-contact-form__success">
                <p>{{ 'contact.form.post_success' | t }}</p>
              </div>
            {% endif %}

            {% if form.errors %}
              <div class="custom-contact-form__errors">
                <p>{{ 'general.forms.post_error' | t }}</p>

                {%- assign message = 'contact.form.message' | t -%}

                {% for field in form.errors %}
                  {% if field == 'form' %}
                    <p>{{ form.errors.messages[field] }}</p>
                  {% else %}
                    {%- assign field_name = field | replace: 'body', message -%}
                    <p>{{ 'general.forms.post_field_error_html' | t: field: field_name, error: form.errors.messages[field] }}</p>
                  {% endif %}
                {% endfor %}
              </div>
            {% endif %}

            <div class="custom-contact-form__blocks">
                      <div class="contact-content">
          <h2> <b>Book a free design consultation</b></h2>
          <p>Got questions? Share your contact details and weâ€™ll get in touch with you.</p>
        <br>
        </div>

              {%- assign used_labels = '' -%}

              {% for block in section.blocks %}
                {%- assign suffix = '' -%}
                {% if used_labels contains block.settings.label %}
                  {% assign suffix = '-' | append: forloop.index %}
                {% endif %}
                {%- assign used_labels = used_labels | join: '|' | append: '|' | append: block.settings.label | split: '|' -%}

                {%- assign required_highlight = '' -%}
                {% if block.settings.required %}
                  {% capture required_highlight %}
                    <span class="required">*</span>
                  {% endcapture %}
                {% endif %}

                <div class="custom-contact-form__block custom-contact-form__block--{{ block.type }}" {{ block.shopify_attributes }}>
                  
                  
                  {% if block.type == 'textfield' %}
                    <label
                      class="label{% if settings.use_placeholders %} is-sr-only{% endif %}"
                      for="textfield{{ suffix }}"
                    >
                      {{ block.settings.label | escape }} {{ required_highlight }}
                    </label>
                    <input
                      id="textfield{{ suffix }}"
                      class="input is-{{ field_input_style }} is-{{ field_input_size }} SKforms"
                      type="text"
                        placeholder="Your Name"
                      name="contact[{{ block.settings.label | escape }}{{ suffix }}]"
                      {% if block.settings.required %}
                        required="required"
                      {% endif %}
                    >

                  {% elsif block.type == 'email' %}
                    <label
                      class="label{% if settings.use_placeholders %} is-sr-only{% endif %}"
                      for="email"
                    >
                      {{ block.settings.label | escape }} <span class="required">*</span>
                    </label>
                    <input
                      id="email"
                      class="input is-{{ field_input_style }} is-{{ field_input_size }} SKforms"
                      type="email"
                        placeholder="Email Address"
                      name="contact[email]"
                      autocorrect="off"
                      autocapitalize="off"
                      value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                      required="required"
                    >
                  
                  
<input type="tel" placeholder="Phone Number(Optional)" name="contact[mobilenumber]" class="input is-{{ field_input_style }} is-{{ field_input_size }} myphonenumber SKforms">
                  

                  {% elsif block.type == 'textarea' %}
                    <label
                      class="label{% if settings.use_placeholders %} is-sr-only{% endif %}"
                      for="textarea{{ suffix }}"
                    >
                      {{ block.settings.label | escape }} {{ required_highlight }}
                    </label>
                    <textarea
                      id="textarea{{ suffix }}"
                      class="textarea is-{{ field_input_style }} is-{{ field_input_size }}"
                        placeholder="Write Your Message Here"
                      name="contact[{{ block.settings.label | escape }}{{ suffix }}]"
                      {% if block.settings.required %}
                        required="required"
                      {% endif %}>
                    </textarea>

                  {% elsif block.type == 'checkbox' %}
                    <label class="label">{{ block.settings.label | escape }} {{ required_highlight }}</label>
                    <ul {% if block.settings.required %}data-is-required{% endif %}>
                      {% for index in (1..10) %}
                        {% capture option %}options_{{index}}{% endcapture %}
                        {% if block.settings[option] != blank %}
                          <li>
                            <input 
                              id="checkbox[option{{ index }}]-{{ suffix }}"
                              class="checkbox"
                              type="checkbox"
                              name="contact[{{ block.settings.label | escape }} {{ index }} {{ suffix }}]"
                              value="{{ block.settings[option] }}"
                            >
                            <label for="checkbox[option{{ index }}]-{{ suffix }}">{{ block.settings[option] }}</label>
                          </li>
                        {% endif %}
                      {% endfor %}
                    </ul>

                  {% elsif block.type == 'radio' %}
                    <label class="label">{{ block.settings.label | escape }} {{ required_highlight }}</label>
                    <ul>
                      {% for index in (1..10) %}
                        {% capture option %}options_{{index}}{% endcapture %}
                        {% if block.settings[option] != blank %}
                          <li>
                            <input
                              id="radio[option{{ index }}]-{{ suffix }}"
                              class="radio"
                              type="radio"
                              name="contact[{{ block.settings.label | escape }}{{ suffix }}]"
                              value="{{ block.settings[option] }}"
                              {% if forloop.first %}
                                checked
                              {% endif %}
                            >
                            <label for="radio[option{{ index }}]-{{ suffix }}">{{ block.settings[option] }}</label>
                          </li>
                        {% endif %}
                      {% endfor %}
                    </ul>


                  {% elsif block.type == 'paragraph' %}
                    {{ block.settings.text }}
                  {% endif %}
                </div>
              {% endfor %}
            </div>
            <input type="hidden" name="challenge" value="false" />

            {%- assign submit_label = 'contact.form.send' | t -%}
            {%
              render 'button',
              label: submit_label,
              style: settings.form_button_style,
              class: 'is-within-form'
            %}
          {% endform %}
        </div>
        
        
        <!--newcon -->
      </div>

      {% elsif type == "block" %}
        <div class="one-half medium-down--one-whole column">
          <div class="contact-form__form">
            <div class="form__success-message"></div>
            <div class="one-whole column contact-form__form-errors">
              <p class="form__error"></p>
            </div>

            {% form 'contact', class: 'contact-form contact-form--contact-section' %}
              {% if form.posted_successfully? %}
                <div class="one-whole column">
                  <p class="quote has-margin-bottom">{{ 'contact.form.post_success' | t }}</p>
                </div>
              {% endif %}

              {% if form.errors %}
                <div class="one-whole column contact-form__form-errors">

                  <p class="quote">{{ 'general.forms.post_error' | t }}</p>

                    {% assign message = 'contact.form.message' | t %}
                    {% for field in form.errors %}
                      {% if field == 'form' %}
                        <p class="form__error">
                          {{ form.errors.messages[field] }}
                        </p>
                      {% else %}
                        <p class="form__error">
                          {% assign field_name = field | replace: 'body', message %}
                          {{ 'general.forms.post_field_error_html' | t: field: field_name, error: form.errors.messages[field] }}
                        </p>
                      {% endif %}
                    {% endfor %}
                </div>
              {% endif %}

              <div class="contact-form__blocks">
                <div class="container">

                  <!-- name field-->
                  <div class="one-whole column">
                    <div class="contact-form__block contact-form__block--{{ block.type }}" {{ block.shopify_attributes }}>
                      {% assign name_attr = 'contact.form.name' | handle %}
                      <label for="contactFormName" class="label {% if settings.use_placeholders %}is-sr-only{% endif %}">
                        {{ 'contact.form.name' | t }} <span class="required">*</span>
                      </label>
                      <input type="text" placeholder="{% if settings.use_placeholders %}{{ 'contact.form.name' | t }}*{% endif %}" name="contact[name_attr]" id="contactFormName" class="input is-{{ field_input_style }} is-{{ field_input_size }}" required="required" />
                    </div>
                  </div>

                  <!-- email field-->
                  <div class="one-whole column">
                    <div class="contact-form__block contact-form__block--{{ block.type }}" {{ block.shopify_attributes }}>
                      <label for="contactFormEmail" class="label {% if settings.use_placeholders %}is-sr-only{% endif %}">
                        {{ 'contact.form.email' | t }} <span class="required">*</span>
                      </label>
                      <input type="email" placeholder="{% if settings.use_placeholders %}{{ 'contact.form.email' | t }}*{% endif %}" id="contactFormEmail" class="input is-{{ field_input_style }} is-{{ field_input_size }}" name="contact[email]" autocorrect="off" autocapitalize="off" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}" required="required">
                    </div>
                  </div>

                  <!-- textarea field -->
                  <div class="one-whole column">
                    <div class="contact-form__block contact-form__block--{{ block.type }}" {{ block.shopify_attributes }}>
                      <label for="contactFormMessage" class="label {% if settings.use_placeholders %}is-sr-only{% endif %}">
                        {{ 'contact.form.message' | t }} <span class="required">*</span>
                      </label>
                      <textarea placeholder="{% if settings.use_placeholders %}{{ 'contact.form.message' | t }}*{% endif %}" id="contactFormMessage" class="textarea is-{{ field_input_style }} is-{{ field_input_size }}" name="contact[body]" required="required"></textarea>
                    </div>
                  </div>

                </div>
              </div>
              <input type="hidden" name="challenge" value="false" />
              <div class="container">
                <div class="one-whole column">
                  {% assign submit_label = 'contact.form.send' | t %}
                  {%
                    render 'button',
                    label: submit_label,
                    style: settings.form_button_style,
                    class: 'is-within-form'
                  %}
                </div>
              </div>
            {% endform %}
          </div>
        </div>
    {% endif %}

  </div>
</section>

{% comment %}JavaScript{% endcomment %}
<script
  type="application/json"
  data-section-id="{{ object.id }}"
  data-section-data
>
  {}
</script>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Select the checkbox label
    var label = document.querySelector('#checkbox\\[option1\\]--4 + label');

   
      
    // Check if the label exists
    if (label) {


          var textContainer = document.createElement('span');
      textContainer.innerHTML = `By checking this box, I consent to receive text messages related to orders, promotions, and updates from ZIPCushions. 
        You can reply "STOP" at any time to opt out. Message and data rates may apply. Message frequency may vary. 
        Text HELP to +1 (720) 627-7225 for assistance. For more information, please refer to our 
        <a href="https://zipcushions.com/policies/privacy-policy" target="_blank"><b>Privacy Policy</b></a> 
        and 
        <a href="https://zipcushions.com/policies/terms-of-service" target="_blank"><b>Terms and Service</b></a> on our website.`;

      // Add styling (optional)
      textContainer.style.display = "block"; // Makes the text appear on a new line
      textContainer.style.marginTop = "0px"; // Adds spacing
      textContainer.style.fontSize = "15px"; // Adjust font size if needed

      // Append the text container after the label
      label.appendChild(textContainer);

    }
  });
</script>


<script src="{{ 'z__jsCustomContactForm.js' | asset_url }}"></script>
